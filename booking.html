<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Premium Booking</title>
    <style>
        :root {
            --accent: #e9c007;
            --bg: #0f1724;
            --card: #0b1220;
            --muted: rgba(255, 255, 255, 0.8);
        }

        html, body {
            height: 100%;
            margin: 0;
            font-family: Inter, system-ui, Segoe UI, Roboto, 'Helvetica Neue', Arial;
        }

        body {
            background: linear-gradient(180deg, #051025 0%, #07142a 60%);
            color: #fff;
            display: flex;
            align-items: flex-start;
            justify-content: center;
            padding: 36px;
        }

        .page {
            width: 100%;
            max-width: 980px;
        }

        h1 {
            font-size: 28px;
            margin: 6px 0 20px;
        }

        .choices {
            display: flex;
            gap: 18px;
            align-items: stretch;
        }

        .choice {
            flex: 1;
            background: var(--card);
            border-radius: 12px;
            padding: 14px;
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            box-shadow: 0 8px 30px rgba(2, 6, 23, 0.6);
            transition: transform 0.18s ease, box-shadow 0.18s ease;
        }

        .choice:hover {
            transform: translateY(-6px);
            box-shadow: 0 18px 38px rgba(2, 6, 23, 0.72);
        }

        .choice img {
            width: 100%;
            height: 160px;
            object-fit: cover;
            border-radius: 10px;
        }

        .label {
            margin-top: 12px;
            font-weight: 700;
            color: var(--muted);
        }

        .anim-clone {
            position: fixed;
            z-index: 9999;
            pointer-events: none;
            transition: transform 0.9s cubic-bezier(0.2, 0.9, 0.2, 1), opacity 0.45s ease;
        }

        .booking-modal {
            position: fixed;
            inset: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(180deg, rgba(0, 0, 0, 0.55), rgba(0, 0, 0, 0.75));
            z-index: 9000;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.28s ease, visibility 0.28s ease;
        }

        .booking-modal.show {
            opacity: 1;
            visibility: visible;
        }

        .modal-card {
            width: 92%;
            max-width: 760px;
            background: linear-gradient(180deg, #071428, #071b2a);
            border-radius: 12px;
            padding: 22px;
            border: 1px solid rgba(233, 192, 7, 0.08);
            box-shadow: 0 20px 50px rgba(2, 6, 23, 0.7);
        }

        .modal-top {
            display: flex;
            gap: 18px;
            align-items: center;
        }

        .selected-preview {
            width: 180px;
            height: 110px;
            border-radius: 8px;
            object-fit: cover;
            background: #111;
        }

        .modal-info {
            flex: 1;
        }

        .warning {
            background: linear-gradient(90deg, #ffdd57, #ff9b57);
            color: #081018;
            padding: 8px 12px;
            border-radius: 8px;
            font-weight: 800;
            display: inline-block;
        }

        .qr-box {
            display: flex;
            gap: 18px;
            align-items: center;
            margin-top: 14px;
        }

        .qr {
            width: 150px;
            height: 150px;
            background: #fff;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .qr img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .cash-note {
            background: rgba(255, 255, 255, 0.06);
            padding: 10px;
            border-radius: 8px;
        }

        .actions {
            display: flex;
            gap: 12px;
            margin-top: 18px;
        }

        .btn {
            padding: 10px 16px;
            border-radius: 8px;
            border: 0;
            cursor: pointer;
            font-weight: 700;
        }

        .btn-primary {
            background: var(--accent);
            color: #0b0b0b;
        }

        .btn-ghost {
            background: transparent;
            border: 1px solid rgba(255, 255, 255, 0.06);
            color: var(--muted);
        }

        .close-x {
            background: transparent;
            border: 0;
            color: rgba(255, 255, 255, 0.7);
            font-weight: 700;
            cursor: pointer;
            padding: 4px;
            font-size: 16px;
        }

        @media (max-width: 720px) {
            .choices {
                flex-direction: column;
            }

            .choice img {
                height: 180px;
            }

            .modal-top {
                flex-direction: column;
            }

            .selected-preview {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="page">
        <h1>Booking â€” Choose Pickup Place</h1>
        <div class="choices">
            <div class="choice" data-type="train">
                <img src="train.webp" alt="Train">
                <div class="label">Railway Station Thrissur</div>
            </div>
            <div class="choice" data-type="bus">
                <img src="kunnamkullam.jpg" alt="KSRTC Bus">
                <div class="label">Kunamkullam Bus stand</div>
            </div>
        </div>
    </div>

    <!-- Booking modal -->
    <div class="booking-modal" id="bookingModal" aria-hidden="true">
        <div class="modal-card">
            <div style="display: flex; justify-content: space-between; align-items: flex-start;">
                <div class="modal-top">
                    <img id="modalPreview" class="selected-preview" src="" alt="preview">
                    <div class="modal-info">
                        <div style="font-size: 18px; font-weight: 900;" id="modalTitle">Selected</div>
                        <div style="margin-top: 8px; color: rgba(255, 255, 255, 0.75);">Premium booking experience. Fast checkout â€” limited slots.</div>
                    </div>
                </div>
                <button class="close-x" onclick="closeModal()" title="Close">âœ•</button>
            </div>

            <div style="margin-top: 20px; padding-top: 20px; border-top: 1px solid rgba(255, 255, 255, 0.06);">
                <div class="warning">âš  Only 4 slots left</div>
            </div>

            <div class="qr-box">
                <div class="qr" id="qrWrap">
                    <img id="qrImg" src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=https://example.com/pay" alt="QR Code">
                </div>
                <div style="flex: 1;">
                    <div style="font-weight: 800; margin-bottom: 8px;">Payment Options</div>
                    <div class="cash-note">ðŸ’° Prefer cash? Select "Buy with cash" and bring the exact amount to the counter.</div>
                    <div class="actions">
                        <button class="btn btn-primary" id="payQrBtn">Pay with QR</button>
                        <button class="btn btn-ghost" id="cashBtn">Buy with cash</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        (function() {
            const choices = document.querySelectorAll('.choice');
            const modal = document.getElementById('bookingModal');
            const modalPreview = document.getElementById('modalPreview');
            const modalTitle = document.getElementById('modalTitle');
            const payQrBtn = document.getElementById('payQrBtn');
            const cashBtn = document.getElementById('cashBtn');

            function animateToCenter(imgEl, done) {
                const rect = imgEl.getBoundingClientRect();
                const clone = imgEl.cloneNode(true);
                clone.classList.add('anim-clone');
                clone.style.left = rect.left + 'px';
                clone.style.top = rect.top + 'px';
                clone.style.width = rect.width + 'px';
                clone.style.height = rect.height + 'px';
                clone.style.borderRadius = getComputedStyle(imgEl).borderRadius || '8px';
                document.body.appendChild(clone);

                requestAnimationFrame(() => {
                    const targetX = (window.innerWidth / 2) - (rect.width / 2);
                    const targetY = (window.innerHeight / 2) - (rect.height / 2) - 20;
                    const translateX = targetX - rect.left;
                    const translateY = targetY - rect.top;
                    clone.style.transform = `translate(${translateX}px, ${translateY}px) scale(1.28)`;
                    clone.style.opacity = '1';
                });

                clone.addEventListener('transitionend', () => {
                    clone.remove();
                    done && done();
                }, { once: true });
            }

            choices.forEach(choice => {
                choice.addEventListener('click', (e) => {
                    const img = choice.querySelector('img');
                    const type = choice.dataset.type || 'item';
                    animateToCenter(img, () => {
                        modalPreview.src = img.src;
                        modalTitle.textContent = type === 'train' ? 'Express Train - Premium' : 'KSRTC Bus - Premium';
                        modal.classList.add('show');
                        modal.setAttribute('aria-hidden', 'false');
                    });
                });
            });

            window.closeModal = function() {
                modal.classList.remove('show');
                modal.setAttribute('aria-hidden', 'true');
            }

            payQrBtn.addEventListener('click', () => {
                alert('Redirecting to QR payment gateway...');
            });

            cashBtn.addEventListener('click', () => {
                alert('âœ“ Cash reservation confirmed!\n\nPlease bring the exact amount to the counter.\n\nBooking Reference: #VIP' + Math.random().toString(36).substr(2, 9).toUpperCase());
            });
        })();
    </script>
</body>

</html>

